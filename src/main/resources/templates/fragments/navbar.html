<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head></head>
<body>

<div th:fragment="navbar">

    <nav class="navbar navbar-expand-lg bg-dark bg-nav rounded">
        <a class="nav-link text-primary active h5 text-stroke" href="/">Car History App</a>
        <a class="nav-link text-primary active h5 text-stroke" sec:authorize="isAuthenticated()" th:href="@{/car/add}">Add Car</a>
        <a class="nav-link text-primary active h5 text-stroke" sec:authorize="isAuthenticated()" href="/">Add Repair</a>
        <a class="nav-link text-primary active h5 text-stroke" sec:authorize="hasRole('ADMIN')" th:href="@{/add-parts}">Add Part</a>
        <a class="nav-link text-primary active h5 text-stroke" sec:authorize="hasRole('ADMIN')" th:href="@{/add-parts-category}">Add Parts Category</a>

        <div class="collapse navbar-collapse d-flex justify-content-end" id="navbarNav">
            <ul class="navbar-nav row" sec:authorize="isAnonymous()">
                <li class="nav-item col-md-4">
                    <a class="nav-link text-primary active h5 text-stroke" href="/users/login">Login</a>
                </li>

                <li class="nav-item col-md-4">
                    <a class="nav-link text-primary active h5 text-stroke" href="/users/register">Register</a>
                </li>

            </ul>
            <div class="form-inline my-2 my-lg-0 px-3">
                <div class="text-white"> Welcome,
                    <th:block sec:authentication="name">!</th:block>

                </div>
                <form th:method="post"
                      th:action="@{/users/logout}">
                    <input class="btn btn-link nav-link" type="submit" value="Logout">
                    <!--                        <li class="nav-item col-md-4">-->
                    <!--                            <a class="nav-link text-primary active h5 text-stroke" href="/users/logout">Logout</a>-->
                    <!--                        </li>-->
                </form>
            </div>
        </div>
    </nav>

</div>

</body>
</html>